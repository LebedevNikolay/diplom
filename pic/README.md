# Дипломный проект по профессии «Тестировщик» в Нетологии.

***

## О проекте

Целью дипломного проекта является автоматизация тестирования комплексного сервиса, взаимодействующего с СУБД и API
Банка.
Приложением является веб-сервис, который предлагает купить тур по определённой цене двумя способами:

1. Обычная оплата по дебетовой карте.
2. Уникальная технология: выдача кредита по данным банковской карты.

Само приложение не обрабатывает данные по картам, а пересылает их банковским сервисам:

* сервису платежей \(Payment Gate);
* кредитному сервису \(Credit Gate).

Приложение в собственной СУБД сохраняет информацию о том, успешно ли был совершён платёж и каким способом не сохраняя
данные карт.

[*Ссылка на полное описание требований к дипломному проекту](https://github.com/netology-code/qa-diploma)

### Настройка среды тестирования

1. Docker Desktop [(руководство по установке)](https://github.com/netology-code/aqa-homeworks/blob/master/docker/installation.md)
2. IntelliJ IDEA [(официальная страница с бесплатной версией)](https://www.jetbrains.com/idea/download/#section=windows)
3. Google Chrome

### Запуск тестов

1. Запустить Docker Desktop
2. Открыть новый проект в Intellij IDEA с настройками: Java (corretto-11), Gradle, Groovy
3. Клонировать репозиторий с GitHub набрав в окне терминала команду:

```
    git clone https://github.com/LebedevNikolay/diplom.git
```

3. Для запуска симулятора банковских сервисов с предопределенными ответами в новом окне терминала ввести команду:

```
   docker-compose up
```

5. В новом окне терминала запустить архив Java, содержащий приложение веб-сервиса:

* в MySQL

```
   java "-Dspring.datasource.url=jdbc:mysql://localhost:3306/app" -jar artifacts/aqa-shop.jar
```

* в Postgres

```
    java "-Dspring.datasource.url=jdbc:postgresql://localhost:5432/app" -jar artifacts/aqa-shop.jar
```

7. В новом окне терминала запустить авто-тестирование командой:

* для MySQL

```
   ./gradlew clean test "-Ddb.url=jdbc:mysql://localhost:3306/app"
```

* для Postgres

```
    ./gradlew clean test "-Ddb.url=jdbc:postgresql://localhost:5432/app"
```

### Отчёты о проведеном тестировании

* Для просмотра отчета Gradle, необходимо открыть файл index.html в браузере, который находится:

```
    ./build/reports/tests/test/index.html
```

* Для генерации отчёта Allure ввести в терминале команду:

```
    ./gradlew allureServe
```

*по окончании формирования отчет откроется в браузере автоматически

8. После выполнения всех тестов остановить docker контейнер командой в консоли: docker-compose down

## Перечень используемых инструментов с обоснованием выбора:
- _IntelliJ IDEA 2022.3.1 (Community Edition)_ - среда разработки, мощная и удобная, поддержка многих языков программирования, в частности Java, JavaScript, Python,с поддержкой всех последних технологий и фреймворков. Версия Community Edition бесплатная.
- _Java 11_ язык для написания автотестов, имеет набор готового ПО для разработки и запуска приложений.
- _Gradle_ понадобится для сборки проекта, для управления подключенными зависимостями, а так же для генерации отчётов о тестировании. Он прост в использовании благодаря тому, что билд скрипты короче и чище чем у Ant и Maven.
- _JUnit 5_ необходим для написания и запуска тестов. Не требует контроля пользователя во время исполнения тестов, может запускать одновременно нектолько тестов, сообщает обо всех ошибках в ходе тестиования, предоставляет готовый набор методов для сравнения ожидаемого и фактического результатов.
- _Docker_ — это программное обеспечение, которое дает возможность на определенном участке памяти изолированно установить необходимую ОС (операционную систему), версию Java, настроить переменные окружения, установить различные зависимости и дать доступ только при определенных условиях.
- _Selenide_ фреймвор,необходимый, для тестирования GUI. Помогает делать стабильные тесты, решая почти все проблемы с таймаутами, автоматически управляет браузером и делает скриншоты если тест упал.
- _Lombok_ - основанная на аннотациях библиотека Java, позволяющая сократить шаблонный код, уменьшает трудозатраты и время на разработку и обеспечивает некоторую дополнительную функциональность.
- _Faker_- библеотека, необходимая для генерации тестовых данных.
- _Rest Assured_ - java-библиотека для тестирования REST API, позволяет автоматизировать тестирование get и post запросов.
- _Allure_ - фреймворк для создания отчетов о тестировании,  наглядного отоображения прохождения тестов и ошибок. Обдадает более широким представление отчетов об проводимых тестах, чем Gradle.
- _Git и GitHub_ для ведения репозитория по проектам. Git достаточно прост и удобен для управления исходным кодом, очень распространенная система контроля версий, поэтому достаточно хорошо взаимодействует с различными ОС. GitHub специализированный веб-сервис с удобным интерфейсои, интегрирован с Git.
- _AppVeyor_ - распределённый веб-сервис непрерывной интеграции, предназначенный для сборки и тестирования программного обеспечения расположенного на GitHub и других сервисах хранения исходного кода (включая GitLab и Bitbucket), использующий виртуальные машины Microsoft Windows и Ubuntu. Этот сервис удобен тем что он имеет бесплатный базовый тариф, может осуществлять сборку как под управлением Linux, так и под Windows, а если необходимо то под несколькими сразу.

### Отчетная документация

* [План автоматизации тестирования веб-формы сервиса покупки тура](https://github.com/LebedevNikolay/diplom/blob/main/docs/Plan.md)
* [Отчёт по итогам тестирования](https://github.com/LebedevNikolay/diplom/blob/main/docs/Report.md)
* [Отчёт по итогам автоматизации](https://github.com/LebedevNikolay/diplom/blob/main/docs/Summary.md)